
       <div class="container-fluid mt-4">
    <h2>Gestión de Habitaciones</h2>
    
    <div class="d-flex justify-content-between mb-3">
        <button *ngIf="showActions" (click)="toggleForm()" class="btn btn-success"><i class="fa fa-plus"></i> 
            Registrar Habitación
        </button>
    </div>

    <table class="table table-striped table-bordered mt-3 align-middle">
        <thead class="table-dark">
            <tr style="text-align: center;">
                <th scope="col">Número</th>
                <th scope="col">Tipo</th>
                <th scope="col">Capacidad</th>
                <th scope="col">Precio</th>
                <th scope="col">Estado</th>
                <th scope="col" *ngIf="showActions">Acciones</th>
            </tr>
        </thead>
        <tbody>
            <tr style="text-align: center;" *ngFor="let hab of listaHabitaciones">
                <td class="fw-bold">{{ hab.numero }}</td>
                <td>{{ hab.tipo }}</td>
                <td>{{ hab.capacidad }} personas</td>
                <td>{{ hab.precio | currency }}</td>
                
                <td>
                    <span class="badge rounded-pill" 
                          [ngClass]="{
                              'bg-success': hab.estado === 'Disponible',
                              'bg-danger': hab.estado === 'Ocupada',
                              'bg-warning text-dark': hab.estado === 'Limpieza',
                              'bg-secondary': hab.estado === 'Mantenimiento'
                          }">
                        {{ hab.estado }}
                    </span>
                </td>

                <td *ngIf="showActions">
                    <button class="btn btn-primary btn-sm me-1" (click)="editHabitacion(hab)">
                        Editar
                    </button>
                    </td>
            </tr>
        </tbody>
    </table>

    <div *ngIf="listaHabitaciones.length === 0" class="alert alert-info text-center">
        No hay habitaciones registradas en el sistema.
    </div>

    <div class="modal fade" #habitacionModalRef tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-dark text-white">
                    <h5 class="modal-title" id="modalLabel">{{ modalText }}</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>
                <div class="modal-body">
                    <form [formGroup]="habitacionForm" (ngSubmit)="onSubmit()">
                        
                        <div class="mb-3">
                            <label for="numero" class="form-label">Número de Habitación</label>
                            <input type="number" id="numero" class="form-control" formControlName="numero" placeholder="Ej. 101">
                            <div *ngIf="habitacionForm.get('numero')?.touched && habitacionForm.get('numero')?.invalid" class="text-danger small">
                                El número debe ser mayor a 0 y único.
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="tipo" class="form-label">Tipo</label>
                            <select id="tipo" class="form-select" formControlName="tipo">
                                <option value="" disabled selected>Seleccione un tipo</option>
                                <option *ngFor="let tipo of listaTipos" [value]="tipo">{{ tipo }}</option>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label for="precio" class="form-label">Precio por noche</label>
                            <input type="number" id="precio" class="form-control" formControlName="precio" placeholder="0.00">
                            <div *ngIf="habitacionForm.get('precio')?.touched && habitacionForm.get('precio')?.invalid" class="text-danger small">
                                El precio debe ser mayor a 0.
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="capacidad" class="form-label">Capacidad (personas)</label>
                            <input type="number" id="capacidad" class="form-control" formControlName="capacidad">
                        </div>

                        <div class="mb-3">
                            <label for="estado" class="form-label">Estado Actual</label>
                            <select id="estado" class="form-select" formControlName="estado">
                                <option *ngFor="let estado of listaEstados" [value]="estado">
                                    {{ estado }}
                                </option>
                            </select>
                        </div>

                        <div class="text-center mt-4">
                            <button type="submit" class="btn btn-success px-4" [disabled]="habitacionForm.invalid">
                                Guardar
                            </button>
                        </div>
                    </form> 
                </div>
            </div>
        </div>
    </div>
</div>
   